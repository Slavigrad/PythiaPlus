<div class="search-page">
  <!-- Page Header -->
  <header class="page-header">
    <h1 class="page-title">Talent Search</h1>
    <p class="page-subtitle">Find the perfect candidates using natural language search</p>
  </header>

  <!-- Search Bar -->
  <app-search-bar [initialQuery]="urlQuery()" />

  <!-- Advanced Options -->
  <app-search-options [initialTopK]="urlTopK()" [initialMinScore]="urlMinScore()" />

  <!-- Empty State (before first search) -->
  @if (searchService.isEmpty()) {
    <app-empty-state />
  }

  <!-- Loading State -->
  @if (searchService.loading()) {
    <div class="loading-state">
      <div class="spinner"></div>
      <p>Searching candidates...</p>
    </div>
  }

  <!-- Error State -->
  @if (searchService.hasError()) {
    <div class="error-state">
      <p class="error-message">{{ searchService.error() }}</p>
      <button class="retry-button" (click)="searchService.clear()">Try Again</button>
    </div>
  }

  <!-- Results -->
  @if (searchService.hasResults() && !searchService.loading()) {
    <app-candidate-list [candidates]="searchService.searchResults()" />
  }

  <!-- No Results -->
  @if (!searchService.hasResults() && !searchService.isEmpty() && !searchService.loading() && !searchService.hasError()) {
    <div class="no-results">
      <p>No candidates found for "{{ searchService.lastQuery() }}"</p>
      <p class="hint">Try adjusting your search terms or broadening your criteria.</p>
    </div>
  }
</div>
